# MindStairs 视觉设计指南

## 1. 设计理念与原则

### 1.1 核心设计理念
- **教育优先**: 所有视觉设计服务于教育目标，避免华而不实
- **认知友好**: 降低认知负荷，帮助学生专注于数学概念
- **情感共鸣**: 营造温暖友好的学习氛围，减少数学焦虑
- **文化包容**: 考虑不同文化背景学生的接受度

### 1.2 设计原则
- **一致性**: 保持界面元素、交互模式、视觉风格的一致性
- **可访问性**: 确保不同能力水平的用户都能良好使用
- **适应性**: 支持不同设备、屏幕尺寸的良好显示
- **可扩展性**: 设计系统能够支持未来功能和内容的扩展

---

## 2. 色彩系统设计

### 2.1 主色彩方案

#### 年级主题色彩
```css
/* 一年级 - 萌芽星云 */
:root[theme="grade-1"] {
  --primary: #E8F4FD;      /* 浅蓝色 - 代表纯真与好奇 */
  --secondary: #FFE0E6;    /* 粉色 - 温暖友善 */
  --accent: #FFF3CD;       /* 浅黄色 - 活泼明亮 */
  --success: #D1ECF1;      /* 成功色 */
}

/* 二年级 - 工匠星座 */
:root[theme="grade-2"] {
  --primary: #E3F2FD;      /* 天空蓝 - 工匠的天空 */
  --secondary: #F3E5F5;    /* 淡紫色 - 创造力 */
  --accent: #E8F5E8;       /* 淡绿色 - 成长 */
}

/* 三年级 - 工匠作坊 */
:root[theme="grade-3"] {
  --primary: #E0F2F1;      /* 青色 - 工作坊的宁静 */
  --secondary: #FCE4EC;    /* 樱花粉 - 温馨 */
  --accent: #FFF8E1;       /* 米黄色 - 温暖的工作环境 */
}

/* 四-六年级 - 逻辑旋臂 */
:root[theme="grade-456"] {
  --primary: #E8EAF6;      /* 靛蓝色 - 逻辑与理性 */
  --secondary: #F1F8E9;    /* 浅绿色 - 成熟稳重 */
  --accent: #FFF3E0;       /* 橙色系 - 创新活力 */
}

/* 七年级 - 逻辑引擎 */
:root[theme="grade-7"] {
  --primary: #E3F2FD;      /* 深蓝色 - 深度思考 */
  --secondary: #F9FBE7;    /* 黄绿色 - 智慧之光 */
  --accent: #FCE4EC;       /* 紫粉色 - 抽象思维 */
}
```

#### 功能性色彩
```css
/* 通用功能色彩 */
:root {
  /* 反馈色彩 */
  --success: #4CAF50;      /* 成功 - 自然绿 */
  --warning: #FF9800;      /* 警告 - 橙色 */
  --error: #F44336;        /* 错误 - 温和红 */
  --info: #2196F3;         /* 信息 - 蓝色 */
  
  /* 中性色彩 */
  --text-primary: #212121;   /* 主文字 */
  --text-secondary: #757575; /* 次要文字 */
  --background: #FAFAFA;     /* 背景色 */
  --surface: #FFFFFF;        /* 卡片背景 */
  
  /* 数学特定色彩 */
  --number-color: #1976D2;   /* 数字蓝 */
  --operation-color: #388E3C; /* 运算绿 */
  --geometry-color: #7B1FA2;  /* 几何紫 */
  --formula-color: #E64A19;   /* 公式橙 */
}
```

### 2.2 色彩应用指南

#### 数学概念色彩编码
- **数与代数**: 蓝色系 - 理性、逻辑
- **几何图形**: 紫色系 - 空间、形状  
- **统计概率**: 绿色系 - 数据、分析
- **应用题**: 橙色系 - 实践、应用

#### 无障碍色彩设计
- **对比度要求**: 文字与背景对比度 ≥ 4.5:1
- **色盲友好**: 避免仅用红绿色区分重要信息
- **可定制**: 支持用户自定义高对比度模式

---

## 3. 字体与文字系统

### 3.1 字体选择

#### 中文字体
```css
.font-chinese {
  font-family: 
    'PingFang SC',           /* 苹果系统 */
    'Microsoft YaHei',       /* Windows系统 */
    'Source Han Sans CN',    /* 跨平台开源 */
    sans-serif;
}
```

#### 数学字体
```css
.font-math {
  font-family: 
    'KaTeX_Math',           /* 数学公式专用 */
    'STIX Math',            /* 数学符号字体 */
    'Computer Modern',      /* 传统数学字体 */
    serif;
}

.font-number {
  font-family: 
    'SF Pro Display',       /* 数字显示 */
    'Roboto Mono',         /* 等宽数字 */
    monospace;
}
```

### 3.2 文字层级系统

#### 标题层级
```css
/* 主标题 - 年级/模块标题 */
.title-primary {
  font-size: 2rem;         /* 32px */
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 1.5rem;
}

/* 副标题 - 章节标题 */
.title-secondary {
  font-size: 1.5rem;       /* 24px */
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: 1rem;
}

/* 小标题 - 活动标题 */
.title-tertiary {
  font-size: 1.25rem;      /* 20px */
  font-weight: 500;
  line-height: 1.4;
  margin-bottom: 0.75rem;
}
```

#### 正文文字
```css
/* 正文 */
.body-text {
  font-size: 1rem;         /* 16px */
  font-weight: 400;
  line-height: 1.6;
  margin-bottom: 1rem;
}

/* 小字说明 */
.caption {
  font-size: 0.875rem;     /* 14px */
  font-weight: 400;
  line-height: 1.5;
  color: var(--text-secondary);
}

/* 数学表达式 */
.math-expression {
  font-size: 1.125rem;     /* 18px */
  font-weight: 500;
  font-family: var(--font-math);
}
```

---

## 4. 图标与符号系统

### 4.1 数学符号设计

#### 基础运算符号
```css
.math-symbol {
  font-size: 1.5em;
  color: var(--operation-color);
  font-weight: 600;
}

.plus-icon { content: '➕'; }
.minus-icon { content: '➖'; }
.multiply-icon { content: '✖️'; }
.divide-icon { content: '➗'; }
.equals-icon { content: '🟰'; }
```

#### 几何图形图标
- **基础图形**: 使用SVG矢量图形确保清晰度
- **3D图形**: 采用等距投影风格，保持一致性
- **动画图标**: 支持简单的变形和旋转动画

#### 功能性图标设计原则
- **识别性**: 图标含义一目了然
- **一致性**: 相同功能使用相同图标
- **适配性**: 支持不同尺寸的清晰显示
- **无障碍**: 提供alt文字描述

### 4.2 自定义图标库

#### 学习状态图标
```javascript
const StatusIcons = {
  locked: '🔒',      // 未解锁
  available: '📚',   // 可学习  
  learning: '📖',    // 学习中
  completed: '✅',   // 已完成
  mastered: '🏆',    // 已掌握
  review: '🔄'       // 需复习
}
```

#### 情感表达图标
```javascript
const EmotionIcons = {
  happy: '😊',       // 开心
  confused: '🤔',    // 困惑
  surprised: '😮',   // 惊讶
  thinking: '💭',    // 思考
  celebrating: '🎉' // 庆祝
}
```

---

## 5. 布局与空间设计

### 5.1 网格系统

#### 响应式网格
```css
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1rem;
}

.grid {
  display: grid;
  gap: 1.5rem;
  
  /* 移动端 */
  grid-template-columns: 1fr;
  
  /* 平板端 */
  @media (min-width: 768px) {
    grid-template-columns: repeat(2, 1fr);
  }
  
  /* 桌面端 */
  @media (min-width: 1024px) {
    grid-template-columns: repeat(3, 1fr);
  }
}
```

#### 空间比例
- **黄金比例**: 重要元素采用1:1.618的比例
- **8px基准**: 所有间距都是8px的倍数
- **呼吸感**: 充足的留白空间减少视觉压力

### 5.2 界面布局规范

#### 学习界面布局
```css
.learning-layout {
  display: grid;
  grid-template-areas: 
    "header header"
    "sidebar content"
    "sidebar tools";
  grid-template-rows: auto 1fr auto;
  grid-template-columns: 300px 1fr;
  height: 100vh;
}

.header { 
  grid-area: header; 
  background: var(--primary);
  padding: 1rem;
}

.sidebar { 
  grid-area: sidebar; 
  background: var(--surface);
  padding: 1.5rem;
}

.content { 
  grid-area: content; 
  padding: 2rem;
}

.tools { 
  grid-area: tools; 
  padding: 1rem;
}
```

---

## 6. 动画与交互效果

### 6.1 动画设计原则

#### 动画时长
- **微交互**: 150-200ms (按钮点击、hover效果)
- **转场动画**: 300-500ms (页面切换、模态框)
- **内容动画**: 500-800ms (列表加载、图表绘制)
- **反馈动画**: 1000-1500ms (成功庆祝、错误提示)

#### 缓动函数
```css
:root {
  --ease-in-out-cubic: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-back: cubic-bezier(0.36, 0, 0.66, -0.56);
  --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
}

.smooth-transition {
  transition: all 0.3s var(--ease-in-out-cubic);
}

.bounce-in {
  animation: bounce-in 0.5s var(--ease-out-back);
}
```

### 6.2 数学概念动画

#### 数字运算动画
```css
/* 数字变化动画 */
@keyframes number-change {
  0% { 
    transform: scale(1); 
    opacity: 1; 
  }
  50% { 
    transform: scale(1.2); 
    opacity: 0.7; 
  }
  100% { 
    transform: scale(1); 
    opacity: 1; 
  }
}

.number-animate {
  animation: number-change 0.6s ease-in-out;
}
```

#### 几何变换动画
- **旋转变换**: 图形绕中心点旋转
- **平移变换**: 图形在坐标系中移动
- **缩放变换**: 图形大小的变化
- **翻转变换**: 图形的轴对称变换

---

## 7. 数据可视化设计

### 7.1 图表设计规范

#### 统计图表
```javascript
// ECharts主题配置
const MindStairsTheme = {
  color: [
    '#3FB1E3', '#6BE6C1', '#626c91', '#a0a7e6', 
    '#c4ebad', '#96dee8', '#d4a76a', '#dc8883'
  ],
  backgroundColor: 'transparent',
  textStyle: {
    fontFamily: 'PingFang SC, Microsoft YaHei, sans-serif',
    fontSize: 14,
    color: '#333'
  },
  title: {
    textStyle: {
      fontSize: 18,
      fontWeight: '600',
      color: '#212121'
    }
  }
}
```

#### 几何图形绘制
- **精确性**: 确保图形比例和角度的准确性
- **清晰性**: 线条粗细适中，便于观察
- **交互性**: 支持鼠标悬停和点击交互
- **动态性**: 支持参数调节和实时变化

### 7.2 数学工具界面

#### 计算器界面
```css
.calculator {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1px;
  background: var(--text-secondary);
  border-radius: 8px;
  overflow: hidden;
}

.calc-button {
  background: var(--surface);
  border: none;
  padding: 1rem;
  font-size: 1.2rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.calc-button:hover {
  background: var(--primary);
}

.calc-button.operator {
  background: var(--accent);
  color: var(--text-primary);
}
```

#### 几何工具界面
- **工具栏**: 直线、圆形、多边形等绘制工具
- **属性面板**: 显示和编辑图形属性
- **画布区域**: 支持缩放和平移的绘制区域
- **测量工具**: 长度、角度、面积测量功能

---

## 8. 组件库设计

### 8.1 基础组件

#### 按钮组件
```css
/* 主要按钮 */
.btn-primary {
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 6px;
  padding: 0.75rem 1.5rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-primary:hover {
  background: var(--primary-dark);
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.12);
}

/* 次要按钮 */
.btn-secondary {
  background: transparent;
  color: var(--primary);
  border: 2px solid var(--primary);
  border-radius: 6px;
  padding: 0.75rem 1.5rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}
```

#### 卡片组件
```css
.card {
  background: var(--surface);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  border: 1px solid rgba(0,0,0,0.04);
  transition: all 0.3s ease;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
}

.card-header {
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid rgba(0,0,0,0.08);
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}
```

### 8.2 数学专用组件

#### 分数显示组件
```css
.fraction {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  margin: 0 0.5rem;
}

.fraction-numerator {
  font-size: 1rem;
  text-align: center;
  padding-bottom: 2px;
}

.fraction-line {
  width: 100%;
  height: 2px;
  background: var(--text-primary);
  margin: 2px 0;
}

.fraction-denominator {
  font-size: 1rem;
  text-align: center;
  padding-top: 2px;
}
```

#### 坐标系组件
```javascript
// 坐标系绘制组件
class CoordinateSystem {
  constructor(container, options = {}) {
    this.container = container;
    this.width = options.width || 400;
    this.height = options.height || 400;
    this.xRange = options.xRange || [-10, 10];
    this.yRange = options.yRange || [-10, 10];
    this.gridSize = options.gridSize || 1;
    
    this.svg = this.createSVG();
    this.drawGrid();
    this.drawAxes();
  }
  
  createSVG() {
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('width', this.width);
    svg.setAttribute('height', this.height);
    svg.setAttribute('viewBox', `0 0 ${this.width} ${this.height}`);
    this.container.appendChild(svg);
    return svg;
  }
  
  drawGrid() {
    // 绘制网格线
  }
  
  drawAxes() {
    // 绘制坐标轴
  }
  
  plotPoint(x, y, options = {}) {
    // 绘制点
  }
}
```

---

## 9. 品牌视觉识别

### 9.1 Logo设计

#### 主Logo元素
- **图标**: 阶梯形状结合数学符号
- **字体**: 现代简洁的无衬线字体
- **颜色**: 渐变蓝色，象征学习的进阶
- **比例**: 确保在不同尺寸下的清晰度

#### Logo使用规范
```css
.logo-primary {
  height: 40px;
  width: auto;
}

.logo-small {
  height: 24px;
  width: auto;
}

.logo-large {
  height: 80px;
  width: auto;
}

/* Logo保护区域 */
.logo-clearance {
  padding: calc(logo-height * 0.5);
}
```

### 9.2 视觉形象延伸

#### 吉祥物设计
- **数学小精灵**: 友好可爱的卡通角色
- **表情丰富**: 能表达不同的学习状态
- **动画支持**: 支持简单的动作和表情动画
- **互动性**: 能够与学生进行简单互动

#### 装饰元素
- **几何图案**: 基于数学图形的装饰纹样
- **星空背景**: 呼应"星云"、"星座"主题
- **台阶元素**: 强调"阶梯式学习"理念

---

## 10. 实施与维护

### 10.1 设计系统实施

#### 组件库构建
```javascript
// 设计令牌（Design Tokens）
const DesignTokens = {
  colors: {
    primary: {
      50: '#E3F2FD',
      500: '#2196F3',
      900: '#0D47A1'
    }
  },
  spacing: {
    xs: '0.25rem',
    sm: '0.5rem', 
    md: '1rem',
    lg: '1.5rem',
    xl: '2rem'
  },
  typography: {
    fontFamily: {
      primary: 'PingFang SC, sans-serif',
      math: 'KaTeX_Math, serif'
    }
  }
}
```

#### 文档化
- **Storybook**: 组件展示和文档
- **设计规范**: 详细的使用指南
- **代码示例**: 实际使用案例
- **更新日志**: 版本变更记录

### 10.2 质量控制

#### 设计审查流程
1. **设计稿审查**: 确保符合设计规范
2. **代码审查**: 检查实现质量
3. **可用性测试**: 验证用户体验
4. **无障碍测试**: 确保包容性设计

#### 持续改进
- **用户反馈**: 收集真实用户意见
- **数据分析**: 基于使用数据优化设计
- **趋势跟踪**: 关注设计趋势变化
- **定期更新**: 保持设计的时代感

---

*本视觉设计指南旨在为MindStairs项目建立统一、专业、友好的视觉语言，创造优质的学习体验。*